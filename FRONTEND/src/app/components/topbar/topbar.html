<div class="topbar" (mouseleave)="closeUserMenuNow()">
  <!-- Left: Brand -->
  <div class="brand-wrap">
    <img src="/assets/images/images.jpg" class="brand-logo" alt="IR logo" />
    <div class="brand">Indian Railways Assets Editor</div>
  </div>

  <!-- Push everything to the right -->
  <div class="spacer"></div>

  <!-- Icons -->
  <div class="widgets">
    <button title="Layers" (click)="toggle('layers')"><i class="bi bi-layers"></i></button>
    <button title="Legend" (click)="toggle('legend')"><i class="bi bi-list-ul"></i></button>
    <button title="Basemap" (click)="toggle('basemap')"><i class="bi bi-map"></i></button>
    <button title="Filter" (click)="toggle('filter')"><i class="bi bi-funnel"></i></button>
    <button title="Edit" (click)="toggle('edit')"><i class="bi bi-pencil-square"></i></button>
  </div>

  <!-- User info (far right) -->
  <div class="topbar-right">
    <div
      class="user-info-wrapper"
      (mouseenter)="onUserEnter()"
      (mouseleave)="onUserLeave()"
    >
      <div class="user-info-box">
        <div class="user-avatar"></div>

        <div class="user-text">
          <div class="hello">Hi</div>
          <div class="username">{{ userName }}</div>
        </div>
      </div>

      <div class="user-menu" [class.show]="showUserMenu">
        <button type="button" (click)="logout()">Logout</button>
      </div>
    </div>
  </div>
</div>

